<?xml version="1.0" encoding="UTF-8"?>
<!-- 
/*
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 */
 -->
<dataset>

    <POLLERDESCRIPTOR ID="1" VERSION="3" NAME="Svn Poller" POLLERCLASS="com.xebia.devradar.pollers.svn.SvnPoller"  />
    <POLLERDESCRIPTOR ID="2" VERSION="8" NAME="Jira Poller" POLLERCLASS="com.xebia.devradar.pollers.jira.JiraPoller"  />

    <WORKSPACE ID="1" VERSION="5" NAME="TEST"  />

    <EVENTSOURCE ID="1" VERSION="3" POLLERDESCRIPTOR_ID="1" DESCRIPTION="Foo Project Trunk" URL="http://svn.test.com"  />
    <EVENTSOURCE ID="2" VERSION="8" POLLERDESCRIPTOR_ID="2" DESCRIPTION="Foo Project Jira Issues" URL="http://jira.test.com"  />
    
    <WORKSPACE_EVENTSOURCE WORKSPACE_ID="1" EVENTSOURCES_ID="1"  />
    <WORKSPACE_EVENTSOURCE WORKSPACE_ID="1" EVENTSOURCES_ID="2"  />

    <PROFILE ID="1" NICKNAME="boul" EMAIL="bill@xebia.fr" GRAVATARURL="http://bill" />
    <PROFILE ID="2" NICKNAME="bill" EMAIL="boul@xebia.fr" GRAVATARURL="http://boul" />

    
    <EVENT ID="1" SOURCE_ID="1" VERSION="45" MESSAGE="Dummy SVN event" DATE="2010-09-25 15:46:23" EVENTTYPE="CREATE_JIRA" WORKSPACE_ID="1" PROFILE_ID="2" />
    <EVENT ID="2" SOURCE_ID="1" VERSION="21" MESSAGE="Dummy SVN event" DATE="2010-10-31 18:31:22"  EVENTTYPE="CREATE_JIRA" WORKSPACE_ID="1" PROFILE_ID="2" />
    <EVENT ID="3" SOURCE_ID="1" VERSION="21" MESSAGE="Dummy SVN event" DATE="2010-10-31 18:31:22"  EVENTTYPE="CREATE_JIRA" WORKSPACE_ID="1" PROFILE_ID="1" />
    <EVENT ID="4" SOURCE_ID="2" VERSION="21" MESSAGE="Dummy JIRA event" DATE="2010-10-31 18:31:22"  EVENTTYPE="CREATE_JIRA" WORKSPACE_ID="1" PROFILE_ID="1" />

    <BADGETYPE ID="1" NAME="BIGGER_COMMITER" DSLQUERY="select e.profile.id from Event e where e.workspace.id = :workspaceId and e.eventType = :eventType group by e.profile.id order by count(e.id) desc" />

    <DSLPARAMETER ID="1" NAME="eventType" TYPE="EVENT_TYPE" VALUE="COMMIT" BADGETYPE_ID="1" />

    <BADGE ID="1" WORKSPACE_ID="1" BADGETYPE_ID="1" />
</dataset>
